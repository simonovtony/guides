<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<script>
    /***********************************************************
     * Внутреннее представление массивов
     ***********************************************************/

    /**
     * Числовые массивы, согласно спецификации, являются объектами, в которые добавили ряд свойств,
     * методов и автоматическую длину length. Но внутри они, как правило, устроены по-другому.
     *
     * Современные интерпретаторы стараются оптимизировать их и хранить в памяти не в виде хэш-таблицы,
     * а в виде непрерывной области памяти, по которой легко пробежаться от начала до конца.
     *
     * Операции с массивами также оптимизируются, особенно если массив хранит только один тип данных,
     * например только числа. Порождаемый набор инструкций для процессора получается очень эффективным.
     *
     * Чтобы у интерпретатора получались эти оптимизации, программист не должен мешать.
     * В частности:
     *
     * 1. Не ставить массиву произвольные свойства, такие как arr.test = 5. То есть, работать
     *    именно как с массивом, а не как с объектом.
     * 2. Заполнять массив непрерывно и по возрастающей. Как только браузер встречает необычное
     *    поведение массива, например устанавливается значение arr[0], а потом сразу arr[1000],
     *    то он начинает работать с ним, как с обычным объектом.
     *    Как правило, это влечёт преобразование его в хэш-таблицу.
     *
     * Если следовать этим принципам, то массивы будут занимать меньше памяти и быстрее работать.
     */
</script>
</body>
</html>