<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<script>
    /***************************************
     * Округление
     ***************************************/

    /**
     * Одна из самых частых операций с числом – округление. В JavaScript существуют целых 3 функции для этого.
     * Math.floor(value) - округляет вниз
     * Math.ceil(value) - округляет вверх
     * Math.round(value) - округляет до ближайшего целого
     */

    alert(Math.floor(3.1)); // 3
    alert(Math.ceil(3.1)); // 4
    alert(Math.round(3.1)); // 3

    /**
     * Округление битовыми операторами
     * Битовые операторы делают любое число 32-битным целым, обрезая десятичную часть.
     * В результате побитовая операция, которая не изменяет число, например, двойное битовое НЕ – округляет его:
     */
    alert(~~12.3); // 12

    /**
     * Любая побитовая операция такого рода подойдет, например XOR (исключающее ИЛИ, "^") с нулем:
     */
    alert(12.3 ^ 0); // 12
    alert(1.2 + 1.3 ^ 0); // 2, приоритет ^ меньше, чем +

    /**
     * Это удобно в первую очередь тем, что легко читается и не
     * заставляет ставить дополнительные скобки как Math.floor(...):
     */
    var a = 2.1, b = 3.2, c = 2.3;
    var x = a * b / c ^ 0;
    alert(x);

    /**
     * Округление до заданной точности
     * Для округления до нужной цифры после запятой можно умножить и поделить
     * на 10 с нужным количеством нулей. Например, округлим 3.456 до 2-го знака после запятой:
     * Таким образом можно округлять число и вверх и вниз.
     */
    var n = 3.456;
    alert(Math.round(n * 100) / 100); // 3.456 -> 345.6 -> 3456 -> 346 -> 3.46

    /**
     * num.toFixed(precision)
     * Существует также специальный метод num.toFixed(precision),
     * который округляет число num до точности precision и возвращает результат в виде строки:
     * Округление идёт до ближайшего значения, аналогично Math.round:
     * Итоговая строка, при необходимости, дополняется нулями до нужной точности:
     * Если нам нужно именно число, то мы можем получить его, применив '+' к результату n.toFixed(..):
     */
    var n = 12.34;
    alert(n.toFixed(1)); // "12.3"

    var n = 12.36;
    alert(n.toFixed(5)); // "12.34000", добавлены нули до 5 знаков после запятой

    var n = 12.34;
    alert(+n.toFixed(5)); // 12.34;

    /**
     * Метод toFixed не эквивалентен Math.round!
     * Например, произведём округление до одного знака
     * после запятой с использованием двух способов: toFixed и Math.round с умножением и делением:
     * Как видно результат разный! Вариант округления через Math.round получился более корректным,
     * так как по общепринятым правилам 5 округляется вверх. А toFixed может округлить его как вверх,
     * так и вниз. Почему? Скоро узнаем!
     */
    var price = 6.35;
    alert(price.toFixed(1)); // 6.3
    alert(Math.round(price)); // 6.4


</script>
</body>
</html>