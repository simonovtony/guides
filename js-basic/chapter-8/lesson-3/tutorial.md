
# Геттеры и сеттеры

Для управляемого доступа к состоянию объекта используют специальные функции, так называемые «геттеры» и «сеттеры».

## Геттеры и сеттеры для воды

На текущий момент количество воды в кофеварке является публичным свойством waterAmount:

    function CoffeeMachine () {
        // количество воды в кофеварке
        this.waterAmount = 0;
        ...
    }

Это немного опасно. Ведь в это свойство можно записать произвольное количество воды, хоть весь мировой океан.

    // не помещается в кофеварку
    coffeeMachine.waterAmount = 1000000;

Это ещё ничего, гораздо хуже, что можно наоборот – вылить больше, чем есть:

    // и не волнует, было ли там столько воды вообще!
    coffeeMachine.waterAmount -= 1000000;

Так происходит потому, что свойство полностью доступно снаружи.

Чтобы не было таких казусов, нам нужно ограничить контроль над свойством со стороны внешнего кода.

#### Для лучшего контроля над свойством его делают приватным, а запись значения осуществляется через специальный метод, который называют «сеттер» (setter method).

Типичное название для сеттера – setСвойство, например, в случае с кофеваркой таким сеттером будет метод setWaterAmount:

`example-1.html`

Теперь waterAmount – внутреннее свойство, его можно записать (через сеттер), но, увы, нельзя прочитать.

#### Для того, чтобы дать возможность внешнему коду узнать его значение, создадим специальную функцию – «геттер» (getter method).

Геттеры обычно имеют название вида getСвойство, в данном случае getWaterAmount:

Для большего удобства иногда делают единый метод, который называется так же, как свойство и отвечает и за запись, и за чтение.

При вызове без параметров такой метод возвращает свойство, а при передаче параметра – назначает его.

Выглядит это так:

`example-3.html`

Единый геттер-сеттер используется реже, чем две отдельные функции, но в некоторых JavaScript-библиотеках, например jQuery и D3, подобный подход принят на уровне концепта.

## Итого

* Для большего контроля над присвоением и чтением значения вместо свойства делают «функцию-геттер» и «функцию-сеттер», геттер возвращает значение, сеттер – устанавливает.

* Если свойство предназначено только для чтения, то может быть только геттер, только для записи – только сеттер.

* В качестве альтернативы к паре геттер/сеттер применяют единую функцию, которая без аргументов ведёт себя как геттер, а с аргументом – как сеттер.

Также можно организовать геттеры/сеттеры для свойства, не меняя структуры кода, через дескрипторы свойств.