<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<script>
    /*******************************************
     * Вложенные функции
     *******************************************/

    /**
     * Внутри функции можно объявлять не только локальные переменные, но и другие функции.
     *
     * К примеру, вложенная функция может помочь лучше организовать код:
     */
    function sayHiBy(firstName, lastName) {
        alert('Привет, ' + getFullName());
        alert('Пока, ' + getFullName());

        function getFullName() {
            return firstName + ' ' + lastName;
        }
    }
    sayHiBy('Вася', 'Пупкин');

    /**
     * Здесь, для удобства, создана вспомогательная функция getFullName().
     *
     * Вложенные функции получают [[Scope]] так же, как и глобальные. В нашем случае:
     *
     * getFullName.[[Scope]] = объект переменных текущего запуска sayHiBye
     *
     * Благодаря этому getFullName() получает снаружи firstName и lastName.
     *
     * Заметим, что если переменная не найдена во внешнем объекте переменных, то она ищется в ещё более внешнем
     * (через [[Scope]] внешней функции), то есть, такой пример тоже будет работать:
     */
    var phrase = 'Привет';
    function say() {
        function go() {
            alert(phrase);
        }
        go();
    }
    say();
</script>
</body>
</html>