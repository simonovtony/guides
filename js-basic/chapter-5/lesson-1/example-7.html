<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<script>
    /*************************************************
     * Порядок инициализации
     *************************************************/

    /**
     * !!! Конструкции for, if... не влияют на видимость переменных
     * Фигурные скобки, которые используются в for, while, if, в отличие
     * от объявлений функции, имеют «декоративный» характер.
     * В JavaScript нет разницы между объявлением вне блока:
     */

    var i;
    {
        i = 5;
    }
    alert(i);

    /**
     * ...И внутри него
     */
    x = 5;
    {
        var x;
    }
    alert(x);

    /**
     * Также нет разницы между объявлением в цикле и вне его:
     */
    for (var z = 0; z < 5; z++) { }
    alert(z);

    /**
     * Идентичный по функциональности код:
     */
    var y;
    for (y = 0; y < 5; y++) { }
    alert(y);

    /**
     * В обоих случаях переменная будет создана до выполнения цикла,
     * на стадии инициализации, и ее значение будет сохранено после окончания цикла.
     */

    /**
     * !!! Не важно, где и сколько раз объявлена переменная
     * Объявлений var может быть сколько угодно:
     */
    var p = 10;
    alert(p);
    for (var p = 0; p < 20; p++) { }
    alert(p);
    var p = 5;
    alert(p);

    /**
     * Все var будут обработаны один раз, на фазе инициализации.
     * На фазе исполнения объявления var будут проигнорированы:
     * они уже были обработаны. Зато будут выполнены присваивания.
     */

</script>
</body>
</html>