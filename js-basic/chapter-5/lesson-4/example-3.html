<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<script>
    /*******************************************
     * Обьект счетчика + функция
     *******************************************/

    /**
     * Изначально, счётчик делался функцией во многом ради красивого вызова: counter(),
     * который увеличивал значение и возвращал результат.
     *
     * К сожалению, при переходе на объект короткий вызов пропал, вместо него
     * теперь counter.getNext(). Но он ведь был таким простым и удобным…
     *
     * Поэтому давайте вернём его!
     */
    function makeCounter() {
        var currentCount = 1;

        function counter() {
            return currentCount++;
        }

        counter.set = function (value) {
            currentCount = value;
        };

        counter.reset = function (value) {
            currentCount = 1;
        };

        return counter;
    }
    var counter = makeCounter();
    alert(counter()); // 1
    alert(counter()); // 2
    counter.set(5);
    alert(counter()); // 5

    /**
     * Красиво, не правда ли? Получился полноценный объект, который можно вдобавок ещё и вызывать.
     *
     * Этот трюк часто используется при разработке JavaScript-библиотек. Например, популярная
     * библиотека jQuery предоставляет глобальную переменную с именем jQuery (доступна также
     * под коротким именем $), которая с одной стороны является функцией и может вызываться
     * как jQuery(...), а с другой – у неё есть различные методы, например jQuery.type(123)
     * возвращает тип аргумента.
     *
     * Далее вы найдёте различные задачи на понимание замыканий.
     * Рекомендуется их сделать самостоятельно.
     */
</script>
</body>
</html>